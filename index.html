<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Basic To-Do List</title>

    <style>
      [class*="col"] {
        padding: 1rem;
        background-color: #73c6b6;
        border: 2px solid #fff;
        color: #fff;
        text-align: center;
      }

      [class*="con"] {
        padding: 1rem;
        background-color: #ff9079;

        border: 2px solid #fff;
        color: #fff;
        text-align: center;
      }
      #cbox3:checked + label {
        color: blue;
        text-decoration: line-through;
      }
    </style>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelector("#newTask").onsubmit = function () {
          const li = document.createElement("li");
          let taskText = document.querySelector("#task").value;
          let taskStatus = document.querySelector("#complete").checked;
          let checked = "";
          if (taskStatus) {
            checked = "checked"
          }
          let priority = document.querySelector("#taskPriority").value
          let newTaskHTML = 
            `
              <input type="checkbox" id="cbox3" value="third_checkbox" ${checked}> <label for="cbox3"> ${taskText} </label><br>
              <span>${priority}</span>
              <button class="remove"> Remove </button>    
            `;
          li.innerHTML = newTaskHTML;
          document.querySelector("#tasksList").append(li);
          document.querySelector('#newTask').reset();

          return false;
        };
      });

      document.addEventListener("click", function (event) {
        element = event.target;
        if (element.className === "remove") {
          element.parentElement.remove();
        }
      });
    </script>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="styles.css"
  </head>
  <body>
    <div class="container">
      <h1>Tasks</h1>
      <ul id="tasksList"></ul>
      <button
        type="button"
        class="btn btn-primary"
        data-toggle="modal"
        data-target="#exampleModal"
      >
        Add Task
      </button>
    </div>

    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">New Task</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="newTask">
              <form id="newTask">
                <label for="task">Name of Task</label>
                <input type="text" id="task" name="task" />

                <label for="taskPriority">Choose Priority</label>
                <select name="taskPriority" id="taskPriority">
                  <option value="!">Low Priority</option>
                  <option value="!!">Medium Priority</option>
                  <option value="!!!">High Priority</option>
                </select>

                <input
                  type="radio"
                  id="complete"
                  name="taskStatus"
                  value="complete"
                />
                <label for="complete">Complete</label>
                <input
                  type="radio"
                  id="pending"
                  name="taskStatus"
                  value="pending"
                />
                <label for="pending">Pending</label>

                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Exit
                </button>
                <button
                  id="createTask"
                  type="submit"
                  value="submit"
                  class="btn btn-primary"
                >
                  Add
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 
        Task List
        Can use a JSON object to store each 
        [{
          "Task Title:";
          "Task-priority"
          "Task-Status"
        },
        ]
        <li></li>
            Task Card
                Task Title: one line description of task, 
                Task-priority: Low, Medium, or High Priority, 
                Mark ascomplete Button / Task Status: Completed or Pending
                    Strike through when marked complete
                    Use event handlers
                Remove Button
                    Removes it from the array and the DOM
                    Use event handlers
    -->
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
      integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
      integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>

    <script type="text/javascript" src="myscript.js"></script>
  </body>
</html>
